{% load get_item %}

{% with form_errors|get_item:name as error %}
    <div class="govuk-form-group {% if error %}govuk-form-group--error{% endif %}">
        <fieldset class="govuk-fieldset">
            {% if label %}
                <legend class="govuk-fieldset__legend govuk-fieldset__legend--{{ label_size }}">
                    {{ label }}
                </legend>
            {% endif %}
            {% if error %}
                <p id="{{ name }}-error" class="govuk-error-message">
                    {% for error in error %}
                        <span class="govuk-visually-hidden">Error:</span> {{ error }}
                    {% endfor %}
                </p>
            {% endif %}
            <div class="govuk-radios govuk-radios" data-module="govuk-radios">
                {% for option in options %}
                    <div class="govuk-radios__item">
                        <input class="govuk-radios__input" id="{{ option.value }}" name="{{ name }}"
                               type="radio" value="{{ option.value }}">
                        <label class="govuk-label govuk-radios__label" for="{{ option.value }}">
                            {{ option.label }}
                        </label>
                    </div>
                {% endfor %}
            </div>
        </fieldset>
    </div>
{% endwith %}
