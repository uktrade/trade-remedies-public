{% extends "v2/govuk/base_with_form.html" %}
{% load static %}

{% block page_title %}
Reset your password
{% endblock %}

{% block fieldset_heading %}
Reset your password
{% endblock fieldset_heading %}

{% block extra_css %}
<link href="{% static 'v2/css/login.css' %}" rel="stylesheet">
{% endblock extra_css %}

{% block form_content %}

<!-- Content contains accessibility code for screen readers based on this blog: https://incl.ca/show-hide-password-accessibility-and-password-hints-tutorial -->

<p id="password-hints">The password for this account must:

    <!-- This text is only shown to screen readers -->
    <span class="sr-only">Be at least 8 characters, have at least 1 number, have at least 1 uppercase letter, have at least one lowercase letter. and have at least 1 special character.</span>
</p>

<!-- This text is not shown to screen readers -->
<ul class="govuk-list govuk-list--bullet" aria-hidden="true">
    <li id="length" class="invalid">be at least 8 characters long,</li>
    <li id="number" class="invalid">have at least one number (0 to 9),</li>
    <li id="letter" class="invalid">include at least one lowercase letter,</li>
    <li id="capital" class="invalid">include at least one uppercase letter,</li>
    <li id="special" class="invalid">contain a special character (e.g. !@$%/&lt;)</li>
</ul>

<!-- This text is only shown to screen readers and informs the user that the password is / isn't hidden -->
<p aria-live="polite" id="password-text" class="sr-only">Password hidden.</p>
<p aria-live="polite" id="password-text2" class="sr-only">Confirm password hidden.</p>

<div class="input-with-button">


    {% with form_errors.password as error %}
    <div class="govuk-form-group {% if error %}govuk-form-group--error{% endif %}">
        <label class="govuk-label" for="password">
            Enter password
        </label>
        {% if error %}
        <p id="password-error" class="govuk-error-message">
            {% for error in error %}
            <span class="govuk-visually-hidden">Error:</span> {{ error }}
            {% endfor %}
        </p>
        {% endif %}
        <div class="flex-input-button">
            <div class="hold-left">

                <input class="govuk-input govuk-input--width-15 {% if error %}govuk-input--error{% endif %}"
                       id="password" name="password" type="password"
                       aria-describedby="password-hints" autocomplete="off"
                       style="background-repeat: no-repeat; background-attachment: scroll; background-size: 16px 18px; background-position: 98% 50%; cursor: auto;">
                {# /PS-IGNORE #}
            </div>
            <div class="hold-right" id="show_password_button_container">
                <button id="show_password" type="button" role="switch" aria-checked="false"
                        class="govuk-button govuk-button--secondary" data-module="govuk-button">
                    <span class="show-text">Show</span>
                </button>
            </div>
        </div>

    </div>
    {% endwith %}


</div>


<button class="govuk-button" data-module="govuk-button">
    Continue
</button>


{% endblock form_content %}

{% block scripts %}

<script src="{% static 'v2/js/show_password.js' %}"></script>
<script src="{% static 'v2/js/validate_password.js' %}"></script>

{% endblock %}